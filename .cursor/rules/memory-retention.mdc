---
description: 针对 U 形槽设计软件 R&D 项目全生命周期，提取各阶段关键洞察并保存到 Graphiti 长期记忆中
globs: 
alwaysApply: true
---

# 全生命周期 R&D：记忆提取与保存规则

为了确保 U 形槽配筋软件研发项目在各阶段（调研、设计、开发、测试、迭代）具有知识连续性，并能沉淀高质量的研发资产，在所有会话中必须实时提取关键洞察并保存到 Graphiti 长期记忆中。

## 关键洞察范畴
- **需求与业务逻辑**：核心功能需求、非功能性需求、业务痛点、业务流程建议。
- **技术决策与架构**：系统架构方案、核心算法实现逻辑、技术可行性分析、第三方库选型及原因。
- **设计决策**：结构计算模型简化方案、配筋策略选择、UI/UX 设计定稿及其背后的用户考量。
- **标准与规范**：项目中引用的行业规范（如《水工混凝土结构设计规范》SL 191 等）及其具体应用解释。
- **测试与反馈**：测试中发现的典型 Bug、性能瓶颈、用户反馈的改进意见、边缘情况处理逻辑。
- **关键变更与重构**：对核心模块的重构决定、数据结构的调整及其对系统的影响。

## 执行步骤
1. **识别**：在对话中捕捉任何具有长期参考价值的信息（需求、方案、决策、规范、反馈等）。
2. **提炼**：将对话内容转化为清晰、结构化的“洞察点”。
3. **保存**：调用 `user-graphiti` 的 `add_memory` 工具。

## 工具调用规范
- **toolName**: `add_memory`
- **server**: `user-graphiti`
- **arguments**:
  - `name`: 简短命名洞察主题（例如：“配筋算法重构决策”、“河道水压力计算模型”）
  - `episode_body`: 详细描述洞察所得，包含背景、具体参数、决策逻辑或技术细节（中文）。
  - `group_id`: `U_shape_groove_design`
  - `source`: `message`
  - `source_description`: "R&D Lifecycle Insight"

## 示例
当讨论确定采用有限元法处理复杂受力时：
- `name`: "复杂受力段计算方案"
- `episode_body`: "考虑到变截面段受力复杂，传统简化公式精度不足，决定引入有限元分析模块进行局部加强筋计算，以确保结构安全性。"
- `group_id`: "U_shape_groove_design"
