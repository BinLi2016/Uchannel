// Motor/non-motor divider belt (机非分隔带) sample data derived from DrawingShot screenshots.

window.DividerBeltParamHeaders = [
  'U型槽编号',
  'L(cm)',
  'Hmin(cm)',
  'Hmax(cm)',
  'B(cm)',
  'T(cm)',
  'n',
  'e1(cm)',
  'n1',
  'd1(cm)',
  'n2',
  'd2(cm)',
  'a(cm)',
  'm',
  'b(cm)',
  'e2(cm)',
];

// Extracted via multimodal OCR from DrawingShot/机动车与非机动车分隔带钢筋布置图.png
window.DividerBeltParamRows = [
  { id: 'YU1', L: 2000, Hmin: 220.0, Hmax: 227.5, B: 175.0, T: 40.0, n: 159, e1: 6.25, n1: 17, d1: 12.1, n2: 17, d2: 12.5, a: 7.0, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU2', L: 2000, Hmin: 227.5, Hmax: 229.0, B: 175.0, T: 40.0, n: 159, e1: 6.25, n1: 17, d1: 12.4, n2: 17, d2: 12.5, a: 8.5, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU3', L: 2000, Hmin: 229.0, Hmax: 230.4, B: 175.0, T: 50.0, n: 159, e1: 6.25, n1: 17, d1: 12.4, n2: 17, d2: 12.5, a: 9.9, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU4', L: 2000, Hmin: 230.4, Hmax: 231.9, B: 175.0, T: 50.0, n: 159, e1: 6.25, n1: 17, d1: 12.4, n2: 17, d2: 12.5, a: 11.4, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU5', L: 2000, Hmin: 231.9, Hmax: 233.4, B: 175.0, T: 60.0, n: 159, e1: 6.25, n1: 18, d1: 12.4, n2: 18, d2: 12.5, a: 0.4, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU6', L: 2000, Hmin: 233.4, Hmax: 261.2, B: 175.0, T: 70.0, n: 159, e1: 6.25, n1: 20, d1: 11.1, n2: 20, d2: 12.5, a: 3.2, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU7', L: 2000, Hmin: 261.2, Hmax: 289.0, B: 175.0, T: 70.0, n: 159, e1: 6.25, n1: 22, d1: 11.2, n2: 22, d2: 12.5, a: 6.0, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU8', L: 2000, Hmin: 289.0, Hmax: 299.0, B: 175.0, T: 80.0, n: 159, e1: 6.25, n1: 23, d1: 12.1, n2: 23, d2: 12.5, a: 3.5, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU9', L: 2000, Hmin: 299.1, Hmax: 319.0, B: 175.0, T: 80.0, n: 159, e1: 6.25, n1: 24, d1: 11.7, n2: 24, d2: 12.5, a: 11.0, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU10', L: 2000, Hmin: 299.0, Hmax: 319.0, B: 175.0, T: 80.0, n: 159, e1: 6.25, n1: 24, d1: 11.7, n2: 24, d2: 12.5, a: 11.0, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU11', L: 2000, Hmin: 309.1, Hmax: 362.6, B: 175.0, T: 90.0, n: 159, e1: 6.25, n1: 28, d1: 10.6, n2: 28, d2: 12.5, a: 4.6, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU12', L: 2000, Hmin: 274.0, Hmax: 309.1, B: 175.0, T: 80.0, n: 159, e1: 6.25, n1: 24, d1: 11.0, n2: 24, d2: 12.5, a: 1.1, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU13', L: 2000, Hmin: 257.3, Hmax: 273.9, B: 175.0, T: 70.0, n: 159, e1: 6.25, n1: 21, d1: 11.7, n2: 21, d2: 12.5, a: 3.4, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU14', L: 2000, Hmin: 251.6, Hmax: 257.3, B: 175.0, T: 70.0, n: 159, e1: 6.25, n1: 19, d1: 12.2, n2: 19, d2: 12.5, a: 11.8, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU15', L: 2000, Hmin: 245.8, Hmax: 251.6, B: 175.0, T: 70.0, n: 159, e1: 6.25, n1: 19, d1: 12.2, n2: 19, d2: 12.5, a: 6.1, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU16', L: 2000, Hmin: 240.1, Hmax: 245.8, B: 175.0, T: 60.0, n: 159, e1: 6.25, n1: 19, d1: 12.2, n2: 19, d2: 12.5, a: 0.3, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU17', L: 2000, Hmin: 234.4, Hmax: 240.1, B: 175.0, T: 60.0, n: 159, e1: 6.25, n1: 18, d1: 12.2, n2: 18, d2: 12.5, a: 7.1, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU18', L: 2000, Hmin: 228.6, Hmax: 234.3, B: 175.0, T: 50.0, n: 159, e1: 6.25, n1: 18, d1: 12.2, n2: 18, d2: 12.5, a: 1.3, m: 13, b: 12.2, e2: 8.0 },
  { id: 'YU19', L: 1547.05, Hmin: 220.0, Hmax: 228.6, B: 175.0, T: 40.0, n: 123, e1: 4.78, n1: 17, d1: 12.0, n2: 17, d2: 12.5, a: 8.1, m: 13, b: 12.2, e2: 8.0 },
];

window.DividerBeltNotes = [
  '1. 本图尺寸单位为cm, 钢筋直径及详图单位为mm。',
  '2. 混凝土保护层厚度未注明时为4.0cm。',
  '3. 与底座盖梁钢筋焊接(T-6)。',
];

window.DividerBeltProjectInfo = {
  projectName: '市政工程',
  drawingTitle: '机动车与非机动车分隔带钢筋布置图',
  drawingNumber: 'DIVIDER-001',
  scale: '1:??',
  designer: '',
  checker: '',
  approver: '',
  date: '',
  company: '',
};

// Quantity data extracted from DrawingShot/机动车与非机动车分隔带钢筋数量表.png
// Table schema matches DrainageChannelPainter.drawRebarQuantityTable.
window.DividerBeltQuantityHeaders = ['编号', '图式', '直径(mm)', '每根长(m)', '根数', '总长(m)', '单位重(kg/m)', '总重(kg)'];

const unitWeight = (diameterMm) => 0.00617 * diameterMm * diameterMm;

const makeItem = (id, diameterMm, lengthPerBarM, quantity, bendShape) => ({
  id,
  diameterMm,
  lengthPerBarM,
  quantity,
  unitWeightKgPerM: Number(unitWeight(diameterMm).toFixed(3)),
  totalLengthM: Number((lengthPerBarM * quantity).toFixed(2)),
  totalWeightKg: Number((lengthPerBarM * quantity * unitWeight(diameterMm)).toFixed(2)),
  bendShape,
});

// Very schematic shapes, used only for drawing the "大样" cell.
const shapeRect = (w, h) => ({
  pointsMm: [
    { x: 0, y: 0 },
    { x: 0, y: h },
    { x: w, y: h },
    { x: w, y: 0 },
  ],
  segmentDimsMmText: [String(h), String(w), String(h)],
});

const shapeU = (w, h) => ({
  pointsMm: [
    { x: 0, y: 0 },
    { x: 0, y: h },
    { x: w, y: h },
    { x: w, y: 0 },
  ],
  segmentDimsMmText: [String(h), String(w), String(h)],
});

const shapeStirrup = (w, h) => ({
  pointsMm: [
    { x: 0, y: 0 },
    { x: w, y: 0 },
    { x: w, y: h },
    { x: 0, y: h },
    { x: 0, y: 0 },
  ],
  segmentDimsMmText: [String(w), String(h), String(w), String(h)],
});

window.DividerBeltQuantityByType = {
  YU1: {
    title: '机动车与非机动车分隔带钢筋数量表(YU1)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 7.223, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.280, 50, shapeU(19920, 180)),
      makeItem('N3', 16, 3.490, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 680, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 78.31m³',
    totalSteelText: 'HPB300: 478.11kg, HRB400: 5331.15kg',
  },
  YU2: {
    title: '机动车与非机动车分隔带钢筋数量表(YU2)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 7.313, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.280, 50, shapeU(19920, 180)),
      makeItem('N3', 16, 3.490, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 680, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 79.88m³',
    totalSteelText: 'HPB300: 478.11kg, HRB400: 5366.66kg',
  },
  YU3: {
    title: '机动车与非机动车分隔带钢筋数量表(YU3)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 7.542, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.280, 50, shapeU(19920, 180)),
      makeItem('N3', 16, 3.632, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 680, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 80.40m³',
    totalSteelText: 'HPB300: 478.11kg, HRB400: 5492.87kg',
  },
  YU4: {
    title: '机动车与非机动车分隔带钢筋数量表(YU4)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 7.571, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.280, 50, shapeU(19920, 180)),
      makeItem('N3', 16, 3.632, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 680, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 80.91m³',
    totalSteelText: 'HPB300: 478.11kg, HRB400: 5504.31kg',
  },
  YU5: {
    title: '机动车与非机动车分隔带钢筋数量表(YU5)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 7.801, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.280, 52, shapeU(19920, 180)),
      makeItem('N3', 16, 3.773, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 720, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 81.43m³',
    totalSteelText: 'HPB300: 506.23kg, HRB400: 5694.67kg',
  },
  YU6: {
    title: '机动车与非机动车分隔带钢筋数量表(YU6)',
    headers: window.DividerBeltQuantityHeaders,
    items: [
      makeItem('N1', 20, 8.294, 160, shapeRect(2595, 180)),
      makeItem('N2', 16, 20.282, 56, shapeU(19920, 180)),
      makeItem('N3', 16, 3.915, 160, shapeU(3130, 180)),
      makeItem('N4', 8, 1.780, 800, shapeStirrup(1670, 180)),
    ],
    concreteText: 'C35混凝土: 86.56m³',
    totalSteelText: 'HPB300: 562.48kg, HRB400: 6053.22kg',
  },
};
